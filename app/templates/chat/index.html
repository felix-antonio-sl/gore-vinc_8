{% extends "base.html" %}

{% block content %}
<div class="container mx-auto p-4">
    <div id="chat-messages" class="space-y-4 mb-4">
        <!-- Los mensajes se insertarán aquí -->
    </div>

    <form hx-post="{{ url_for('chat.query')|e }}"
          hx-target="#chat-messages"
          hx-swap="beforeend transition:true"
          hx-trigger="submit"
          hx-indicator=".htmx-indicator"
          hx-on::after-request="this.reset()"
          class="flex gap-2">
          
        <input type="text" 
               name="query" 
               maxlength="500"
               class="input input-bordered flex-grow"
               placeholder="Escribe tu pregunta..."
               hx-disable-element="button"
               required>
               
        <button type="submit" 
                class="btn btn-primary"
                data-loading-disable>
            <span class="htmx-indicator">
                <span class="loading loading-spinner"></span>
            </span>
            <span>Enviar</span>
        </button>
    </form>
</div>
{% endblock %} 